<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.imooc.mapper.UsersMapper" >
  <resultMap id="BaseResultMap" type="com.imooc.pojo.Users" >
    <!--
      WARNING - @mbg.generated
    -->
    <id column="id" property="id" jdbcType="VARCHAR" />
    <result column="mobile" property="mobile" jdbcType="VARCHAR" />
    <result column="nickname" property="nickname" jdbcType="VARCHAR" />
    <result column="imooc_num" property="imoocNum" jdbcType="VARCHAR" />
    <result column="face" property="face" jdbcType="VARCHAR" />
    <result column="sex" property="sex" jdbcType="INTEGER" />
    <result column="birthday" property="birthday" jdbcType="DATE" />
    <result column="country" property="country" jdbcType="VARCHAR" />
    <result column="province" property="province" jdbcType="VARCHAR" />
    <result column="city" property="city" jdbcType="VARCHAR" />
    <result column="district" property="district" jdbcType="VARCHAR" />
    <result column="description" property="description" jdbcType="VARCHAR" />
    <result column="bg_img" property="bgImg" jdbcType="VARCHAR" />
    <result column="can_imooc_num_be_updated" property="canImoocNumBeUpdated" jdbcType="INTEGER" />
    <result column="created_time" property="createdTime" jdbcType="TIMESTAMP" />
    <result column="updated_time" property="updatedTime" jdbcType="TIMESTAMP" />
  </resultMap>

  <update id="updateByUsers">
    update users
    <set>
      <if test="mobile != null" > mobile = #{mobile} ,</if>
      <if test="nickname != null" > nickname = #{nickname} ,</if>
      <if test="imoocNum != null" > imooc_num = #{imoocNum} ,</if>
      <if test="face != null" > face = #{face} ,</if>
      <if test="sex != null" > sex = #{sex} ,</if>
      <if test="birthday != null" > birthday = #{birthday} ,</if>
      <if test="country != null" > country = #{country} ,</if>
      <if test="province != null" > province = #{province} ,</if>
      <if test="city != null" > city = #{city} ,</if>
      <if test="district != null" > district = #{district} ,</if>
      <if test="description != null" > description = #{description} ,</if>
      <if test="bgImg != null" > bg_img = #{bgImg} ,</if>
      <if test="canImoocNumBeUpdated != null" > can_imooc_num_be_updated = #{canImoocNumBeUpdated} ,</if>
      <if test="createdTime != null" > created_time = #{createdTime} ,</if>
      <if test="updatedTime != null" > updated_time = #{updatedTime} ,</if>
    </set>
    where id = #{id}
  </update>

  <select id="queryUserByUser" resultType="com.imooc.pojo.Users">
        select * from users
        <where>
          <if test="id != null"> id = #{id} </if>
          <if test="mobile != null"> mobile = #{mobile} </if>
          <if test="imoocNum != null"> imooc_num = #{imoocNum} </if>
          <if test="nickname != null"> nickname = #{nickname} </if>
        </where>
    </select>
</mapper>